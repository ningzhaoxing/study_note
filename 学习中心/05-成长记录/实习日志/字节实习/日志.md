# 日志记录

使用`defer`关键字进行日志记录，`defer`后的函数通过参数传递上下文。
example:
```go
defer func(startTime time.Time) {  
    if err != nil {  
       glog.CtxInfof(ctx, "performAction failed, cost: %v, error: %v", time.Since(startTime), err)  
    }  
    if performActionOutput != nil {  
       var msg, dataSize any  
       if performActionOutput.IsSuccess {  
          msg = "ok"  
          dataSize = len(performActionOutput.Data.SuccessData())  
       } else {  
          msg = performActionOutput.Data.FailureData().ErrorMessage  
          dataSize = "unknown"  
       }  
  
       glog.CtxInfof(ctx, "performAction finished, cost: %v, isSuccess: %v, message: %v, dataSize: %v", time.Since(startTime), performActionOutput.IsSuccess, msg, dataSize)  
    }  
}(time.Now())
```