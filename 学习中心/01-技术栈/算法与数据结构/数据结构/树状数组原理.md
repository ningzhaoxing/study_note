# 作用：
logn时间复杂度求区间和

# 原理

![[file-20250422234739620.png]]
c数组为树状数组；a数组为原数组。

c数组的每个元素c[x]存储从当前下标x开始，往前总共 *lowbit(x)* 个元素，即区间为c[x] = a[x-lowbit(x)+1, x]。

# 查询
求a[1...n]的区间和，每次到达的下一个区间的右端点为 *x-lowbit(x)* ，边遍历区间，边使用sum求和。

```c++
int getSum(int n) {
	int sum=0;
	while(n>0) {
		sum += c[n];
		n -= lowbit(n);
	}
	return sum;
}
```
