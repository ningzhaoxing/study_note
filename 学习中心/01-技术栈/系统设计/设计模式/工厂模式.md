# 简单工厂模式
## 概念

简单工厂模式通过工厂类，和生产方法方法生成对应类的实现。

``` plantuml
interface Operator {
	GetResult() string
}

class Add {
}

class Sub {
}

class Mul {}

Add --u|> Operator
Sub --u|> Operator
Mul --u|> Operator

class OperatorFactory{
	CreateOperator(t string) Operator 
}

OperatorFactory ..l> Operator
```


优点： 集中管理，将客户端和具体产品解耦。将具体类隐藏，客户端不必感觉具体实现类，通过工厂类就可以创建出所需类的实现
缺点：**不符合开闭原则**，每次添加新的实现类都需要改动工厂类的生产方法


## 应用场景特点

1. 产品类型固定且数量较少
2. 不需要频繁扩展新产品
3. 客户端完全不关心创建逻辑

# 方法工厂模式

## 概念

定义工厂类的生产接口，为每个实现类编写实现生产接口的工厂类。

优点：符合开闭原则，每次添加新类只需要新增实现类和对应的工厂类。
缺点：客户端需要知道具体工厂。对外暴露了内部的各种实现类工厂，客户端需要关心选择哪个工厂类生产对应所需的实现

```plantuml
interface Operator {
	GetResult() string
}

class Add {
}

class Sub {
}

class Mul {}

Add --u|> Operator
Sub --u|> Operator
Mul --u|> Operator

interface IFactory {
	CreateOperator() Operator
}

class AddFactory {
}

class SubFactory {}

class MulFactory {}

AddFactory --u|> IFactory
SubFactory --u|> IFactory
MulFactory --u|> IFactory

AddFactory ..l> Add
SubFactory ..l> Sub
MulFactory ..l> Mul
```

## 应用场景特点

1. 产品类型需要频繁扩展
2. 需要运行时动态选择工厂

# 如何选择

核心选择标准：

> 根据产品的**变化频率**和项目的**扩展需求**来决定。 变化少用简单工厂模式，变化多用方法工厂模式。