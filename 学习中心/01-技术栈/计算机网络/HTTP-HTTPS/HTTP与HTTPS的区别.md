# 有哪些区别？
- HTTPS使报文加密传输。在HTTP的基础上，在TCP和HTTP网络层之间加入了SSL/TLS安全协议(**数据加密，更安全**)
- HTTPS在TCP三次握手后，还需要SSL/TLS握手过程；而HTTP只需要进行TCP三次握手(**SSL\TLS需要额外的握手**)
- 默认端口号不同。HTTP默认端口号为80，HTTPS默认端口号为443(**端口号不同**)
- HTTPS需要向CA(证书权威机构)申请数据证书，保证服务器的身份是可信的(**需要向CA申请证书**)
# HTTPS解决了HTTP的哪些问题？
## HTTP存在的风险
- 窃听风险
- 篡改风险
- 冒充风险
## HTTPS如何解决
- **信息加密**：*混合加密*的方式实现了信息的机密性，解决了窃听风险
- **校验机制**：*摘要算法*的方式来实现完整性
- **身份证书**：将服务器公钥放入数据证书，解决冒充风险

# HTTPS如何体现其安全性
- 信息加密
	通过对称加密和非对称加密的**混合加密**方式。
- 摘要算法
	通过摘要栓发确保数据的完整性。
- 数字证书
	
# SSL/TLS协议

## 基本流程

- 客户端向服务器索要并验证服务器公钥
- 双方协商产生 **会话密钥**
- 双方采用 **会话密钥** 进行加密通信

前两步为SSL/TLS的握手阶段

## 握手阶段
总共设计四次通信。

## 1. 客户端发送加密通信请求
发送信息如下：
1. 客户端支持的SSL/TLS版本
2. 客户端产生的随机数，用于生产 **会话密钥**
3. 客户端支持的密码套件列表

## 2. 服务端响应
响应内容如下：
1. 确认SSL/TLS版本，若浏览器不支持则关闭加密通信
2. 服务器产生的随机数， 用于生产 **会话密钥**
3. 确认的密码套件列表
4. 服务器的数字证书

## 3. 客户端响应
1. 首先通过浏览器或操作系统的CA公钥，确认数字证书的真实性
2. 从数字证书中，取出公钥，并使用它对报文进行加密，向服务器发送信息如下：
	1. 一个随机数。被公钥加密
	2. 加密通信算法改变通知。表示随后的信息都使用 **会话密钥** 加密通信
	3. 客户端握手结束通知。同时将之前的所有内容做摘要，给服务器进行校验

## 4. 服务器响应
服务器收到客户端的第三个随机数后，通过协商的加密算法，计算出本次通信的 **会话密钥**， 然后向客户端发送最后的信息：
1. 加密通信算法改变通知。
2. 服务器握手结束通知。同时将之前所有内容做个摘要，提供客户端校验