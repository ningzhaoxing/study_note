# 重点
1. 传输层概括
2. UDP
3. TCP

# 传输层概述
1. 提供进程和进程之间的逻辑通信，靠套接字Scoket=(主机IP地址，端口号)找到应用程序。
2. 对收到的报文进行差错检测
3. 两种协议
	1. TCP
	  ![[20241230092855.png]]
	2. UDP
	  ![[20241230092913.png]]
# TCP协议
## 特点
1. 面向连接(虚连接)
2. 点对点
3. 提供可靠交付的服务，无差错、不丢失、不重复、按序到达。可靠有序，不丢不重。
	> 发送缓存：准备发送的数据|已发送但尚未收到确认的数据
    > 接收缓存：按序到达但尚未被接收应用程序读取的数据|不按序到达的数据
4. 提供全双工通信。
## 首部
![[20241230094350.png]]
1. 序号
	在一个TCP连接中传送的字节流中的每一个字节够按顺序编号，本字段表示本报文段所发送数据的**第一个字节的序号**。
2. 确认号
	**期望**收到对方下一个报文段的第一个数据字节的序号。若确认号为N，则证明到序号N-1为止的所有数据都已正确收到。
3. 数据偏移(**首部长度**)
	TCP报文段的数据起始处距离TCP报文段的起始处有多远，以4B为单位，即1个数值是4B。
## 连接管理
### 三个阶段
1. 连接建立
	三次握手
2. 数据传送
3. 连接释放
	四次挥手
### 连接建立(三次握手)

![[20241230095319.png]]

### 连接释放(四次挥手)

![[20241230095627.png]]

## 可靠传输
TCP实现可靠传输的机制
1. 校验
2. 序号
3. 确认
4. 重传
## 流量控制
让发送方慢点，要让接收方来得及接收
### 滑动窗口
TCP利用华东窗口机制来实现流量控制。