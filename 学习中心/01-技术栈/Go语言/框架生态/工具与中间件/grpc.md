# 1. 通信方式
## 1.1 普通 rpc（一元 rpc）

一问一答式

```go
syntax = "proto3";
option go_package = "/proto";

service Simple {
  rpc Fun(Request)returns(Response){}
}
message Request {
  string name = 1;
}
message Response {
  string Text = 1;
}
```

适用场景：
- 简单查询单个资源或校验逻辑
## 1.2 服务端流式 rpc
客户端发送请求，服务端返回一个流式响应（多次返回数据），直到服务端主动结束流

适用场景：
- 服务端需要返回大量数据，无法一次性打包（比如分页查询列表，下载大文件）
- 实时数据推送（如实时日志数据等）

## 1.3 客户端流式 rpc
客户端通过流式请求多次发送数据，服务端在接收完所有数据后，返回一个单一响应。

适用场景
- 客户端需要返回大量数据，无法一次性提交（比如上传大文件、批量数据导入）
- 数据生成需要时间，客户端需要边生成边发送。服务端接收完成后，同一进行汇总计算

## 1.4 双向流 rpc

客户端和服务端都可以通过流**独立地发送和接收数据**，双方数据流相互独立，可并行交互。

适用场景
- 实时交互场景，需要双方持续通信（如即使通讯、在线游戏对战）