# 文件上传

```go
// 文件上传  
func uploadHandler(w http.ResponseWriter, r *http.Request) {  
    // 解析表单文件  
    file, header, err := r.FormFile("file")  
    if err != nil {  
       return  
    }  
    defer file.Close()  
  
    // 创建文件保存路径  
    dst, err := os.Create(fmt.Sprintf("uploads/%s", header.Filename))  
    if err != nil {  
       return  
    }  
  
    _, err = io.Copy(dst, file)  
    if err != nil {  
       return  
    }  
}
```

# 文件下载

```go
// 文件下载  
func downloadHandler(w http.ResponseWriter, r *http.Request) {  
    fileName := r.URL.Query().Get("filename")  
    // 打开文件  
    file, err := os.Open(fmt.Sprintf("uploads/%s", fileName))  
    if err != nil {  
       return  
    }  
    defer file.Close()  
  
    // 设置响应头  
    w.Header().Set("Content-Disposition", fmt.Sprintf("attachment;filename=\"%s\"", fileName))  
    w.Header().Set("Content-Type", "application/octet-stream")  
  
    // 将文件内容写入道响应  
    _, err = io.Copy(w, file)  
    if err != nil {  
       return  
    }  
}
```