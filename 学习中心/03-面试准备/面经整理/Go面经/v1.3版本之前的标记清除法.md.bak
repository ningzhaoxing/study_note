# 过程

![](Pasted%20image%2020250302103220.png)

在进行GC时，会进行`STW`，然后回检测程序与对象的可达关系,并对其可达的对象进行标记，对未标记的对象进行清除，清除结束后停止`STW`。
![](Pasted%20image%2020250302104438.png)
如上图所示，目前程序可达的对象有 `1-2-3` 和 `4-7` 这五个对象，其余对象均不可达。在进行GC时`1-2-3` 和 `4-7` 这五个对象进行标记，然后把未标记的对象`5```6`进行清除。，会把会把这些不可达的对象清除。

# 缺点

1. `STW`(重要问题)
	会让程序暂停，程序出现卡顿
2. 标记需要扫描整个`heap`
3. 清除数据会产生`heap`碎片