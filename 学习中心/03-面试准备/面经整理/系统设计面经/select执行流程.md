在执行select语句会经过mysql架构中的Server层和存储引擎层。

在Server层：
首先要执行sql语句的话，要保证客户端已经连接了mysql服务，连接过程需要经过程TCP三次握手，完成TCP连接建立后，连接器就开始校验账号密码，账号密码正确的话连接器就会获取用户权限并保存，之后的操作都会基于此时保存的权限来判断。

连接工作完成后，客户端就可以向mysql服务发送sql语句了，对于select语句，在mysql8.0版本前，会先查缓存，如果缓存中有对应select语句的查询结果，就直接返回，如果没有就继续往下查询。

在执行selcet语句前，会先交给解析器对sql进行解析，解析器会做两件事，首先会做词法分析，将sql字符串的关键字识别出来；

然后做语法分析，会根据语法规则检查sql的语法是否有错误，如果出现错误，解析器就会报错并返回；如果没有错误就会构建sql语法树，方便后面操作。

所以，解析器是用来检查sql的语 法以及构建语法树。
解析完成之后，就开始执行sql。

sql的执行分为三个阶段：*预处理阶段*、*优化阶段*和*执行阶段*。

首先交给预处理器做预处理，它会检查select语句查询的表或者字段是否存在，以及出现通配符的话，将通配符扩展为表上的所有列。

然后交给优化器决定sql查询的执行方案，它会基于查询成本考虑选择使用哪个索引。
决定好查询方案后，就交给执行器开始执行sql，去与存储引擎进行交互，
以记录为单位进行交互。

三种交互过程：
主键索引查询
全表扫描查询
索引下推