# 全局锁

# 表级锁
## 表锁

## 元数据锁
- 对一张表进行 CRUD 操作时，加的是 **元数据读锁**。
- 对一张表进行结构变更的时候，加的是 **元数据写锁**。
元数据锁是为了保证当用户在对表进行 CRUD 操作时，防止其它线程对这个表做了变更。
## 意向锁
在对某些记录加上共享锁或排他锁时，会先在表级别加上一个意向共享锁或意向独占锁。

意向锁满足和表锁的读读共享、读写互斥、写写互斥。

意向锁的作用就是，在向一个表中加独占表锁时，无需遍历表里的所有记录，就能直到该表中是否有记录存在独占锁。
## AUTO-INC锁
自增主键锁
三个等级：0， 1， 2

# 行级锁
## 记录锁
锁住一条记录，并且有共享锁和排他锁之分。

## 间隙锁
只存在于可重复度隔离级别，目的是解决该隔离级别下的幻读现象。

## 临键锁
时记录锁和间隙锁的结合。不仅锁住某个范围，还会锁住当前操作的记录。

## 插入意向锁
在使用间隙锁或临键锁的时候，会像该范围插入意向锁。这样如果有插入操作的话，会判断该位置是否被加了间隙锁，如果有则会发生阻塞，等待插入意向锁释放。