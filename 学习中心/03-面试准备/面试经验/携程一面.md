![[559bf7175a8fa0e8f6b05be389418e93.jpg]]
1. 并行查找两个订单详情，如果两个订单都超时了，或只有一个订单超时了，如何实现查询超时的异常？（**异步回调**、**超时控制**、**协程并行调度**）

	1. 给订单实体设置一个 `isTimeout` 字段表示是否查询超时。
	2. 设计一个异步并行查询的方法。入参设置为需要查询订单的 `orderID` 和一个回调函数负责异常自定义处理。这个方法内部通过协程并行查询，同时通过 `context` 做超时控制，等待所有协程查询完成后，查询结果集中超时的订单，传入回调函数执行回调异常处理机制。

2. 有多个应用的接口相互调用，目前只直到 A、B 接口之间的调用关系，怎么去做出这个系统的调用链路的拓扑图，并判断是否存在环？

	[ 拓扑排序] [[算法思想/拓扑排序|拓扑排序]]
	1. 建模，将接口调用关系转换为有向图，从 A、B 接口作为图的起始节点，将节点的依赖关系和入度记录在邻接表。建模过程中可以找到入度为0的节点，记录存下来放到队列里面。
	2. 遍历队列，每次 pop 出一个节点，记录到拓扑序列中，同时将其引用的节点的入度-1，并判断这些节点的入度是否为0，如果为0继续加入到队列。
	3. 如果最后队列为空，且拓扑序列的长度小于有向图节点数量则说明有环